app-id: io.github.Tahoma2D
runtime: org.kde.Platform
runtime-version: '23.08'
sdk: "org.kde.Sdk" #Just pulling in the KDE stuff in case I truly need it.
finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --socket=pulseaudio
  - --filesystem=xdg-download:rw
  #Maybe add more later
command: runtahoma2d
#Luckily for us, Tahoma2D main dev manongjohn supplies a compiled appimage for us to use
modules:
  - name: tahoma2d
    buildsystem: simple
    build-commands:
      #Grab the official appimage, may need svn and special compiled opencv for extra plugins, maybe later.
      tar -xf ./Tahoma2d-linux.tar.gz #Just a note, it bundles ffmpeg for us and I really do not suggest extracting the appimage, at least not right now.
      mv ./Tahoma2D /app/bin #Yes, just keep the main directory within /app/bin
      #Install rest of the necessary files
      install -Dm 644 org.tahoma2d.Tahoma2D.desktop /app/share/applications/org.tahoma2d.Tahoma2D.desktop
      install -Dm 644 org.tahoma2d.Tahoma2D.png /app/share/icons/hicolor/128x128/apps/org.tahoma2d.Tahoma2D.png
      install -Dm 644 org.tahoma2d.Tahoma2D.appdata.xml /app/share/metainfo/org.tahoma2d.Tahoma2D.appdata.xml
sources:
  - type: file
    url: https://github.com/tahoma2d/tahoma2d/releases/download/v1.4/Tahoma2D-linux.tar.gz
    sha256: 39616a1157f1fcf250914d737128c60a1e202f93fd91cbb962e4b1b9a07d7c22
  - type: file
    path: org.tahoma2d.Tahoma2D.png
  - type: file
    path: org.tahoma2d.Tahoma2D.desktop
  - type: file
    path: org.tahoma2d.Tahoma2D.appdata.xml
  - type: file
    path: runtahoma2d.sh
   
